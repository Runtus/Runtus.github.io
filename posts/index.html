<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Runtus</title><meta name=keywords content><meta name=description content="Posts - Runtus"><meta name=author content="Runtus"><link rel=canonical href=https://runtus.top/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.1240b7c19fa87c0e9a2586995d2367c1c167d626954fef24ed6eb8cc6006a8a2.css integrity="sha256-EkC3wZ+ofA6aJYaZXSNnwcFn1iaVT+8k7W64zGAGqKI=" rel="preload stylesheet" as=style><link rel=icon href=https://runtus.top/avatar.png><link rel=icon type=image/png sizes=16x16 href=https://runtus.top/avatar.png><link rel=icon type=image/png sizes=32x32 href=https://runtus.top/avatar.png><link rel=apple-touch-icon href=https://runtus.top/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://runtus.top/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link href=https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js></script>
<link rel=alternate type=application/rss+xml href=https://runtus.top/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="Daily Life from Runtus"><meta property="og:type" content="website"><meta property="og:url" content="https://runtus.top/posts/"><meta property="og:image" content="https://lao-lan-go.oss-cn-beijing.aliyuncs.com/highQua/pixiv34.JPG"><meta property="og:site_name" content="Runtus"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lao-lan-go.oss-cn-beijing.aliyuncs.com/highQua/pixiv34.JPG"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Daily Life from Runtus"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://runtus.top/posts/"}]}</script><div class=background><div class=l-pagebd><div class="all-layer l-paged__layer"></div><div class="all-layer r-paged__layer"></div></div><div class=r-pagebd><div class=c-onpu><div class="c-onpu__layer -layer1"></div><div class="c-onpu__layer -layer2"></div><div class="c-onpu__layer -layer3"></div></div></div></div><div id=aplayer></div><script>const ap=new APlayer({container:document.getElementById("aplayer"),fixed:!0,autoplay:!0,volume:.2,audio:[{name:"è»¢ã‹ã‚™ã‚‹å²©ã€å›ã«æœã‹ã‚™é™ã‚‹",artist:"çµæŸãƒã‚™ãƒ³ãƒˆã‚™",url:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E8%BB%A2%E3%81%8B%E3%82%99%E3%82%8B%E5%B2%A9%E3%80%81%E5%90%9B%E3%81%AB%E6%9C%9D%E3%81%8B%E3%82%99%E9%99%8D%E3%82%8B.mp3",cover:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E8%BB%A2%E3%81%8B%E3%82%99%E3%82%8B%E5%B2%A9%E3%80%81%E5%90%9B%E3%81%AB%E6%9C%9D%E3%81%8B%E3%82%99%E9%99%8D%E3%82%8B.jpg"},{name:"Reï¼šReï¼š",artist:"çµæŸãƒã‚™ãƒ³ãƒˆã‚™",url:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20Re%EF%BC%9ARe%EF%BC%9A.mp3",cover:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20Re%EF%BC%9ARe%EF%BC%9A.jpg"},{name:"å¤¢ã‚’æŸã­ã¦",artist:"çµæŸãƒã‚™ãƒ³ãƒˆã‚™",url:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E5%A4%A2%E3%82%92%E6%9D%9F%E3%81%AD%E3%81%A6.mp3",cover:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E5%A4%A2%E3%82%92%E6%9D%9F%E3%81%AD%E3%81%A6.jpg"},{name:"æ˜Ÿåº§ã«ãªã‚ŒãŸã‚‰",artist:"çµæŸãƒã‚™ãƒ³ãƒˆã‚™",url:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E6%98%9F%E5%BA%A7%E3%81%AB%E3%81%AA%E3%82%8C%E3%81%9F%E3%82%89.mp3",cover:"https://lao-lan-go.oss-accelerate.aliyuncs.com/hugo-server/audios/%E7%B5%90%E6%9D%9F%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%20-%20%E6%98%9F%E5%BA%A7%E3%81%AB%E3%81%AA%E3%82%8C%E3%81%9F%E3%82%89.jpg"}]})</script></head><body class="list light" id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://runtus.top/ accesskey=h title="Home (Alt + H)"><img src=https://runtus.top/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://runtus.top/archives/ title=archives><span>archives</span></a></li><li><a href=https://runtus.top/tags/ title=tags><span>tags</span></a></li><li><a href=https://runtus.top/friends title=friends><span>friends</span></a></li><li><a href=https://runtus.top/search title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://runtus.top/ncm title=ç½‘æ˜“äº‘è½¬æ¢><span>ç½‘æ˜“äº‘è½¬æ¢</span></a></li><li><a href=https://github.com/Runtus title=github><span>github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://runtus.top/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2>Node Packages</h2></header><div class=entry-content><p>ä¹‹å‰ä¸€ç›´è¢«nodejsçš„æ¨¡å—æ‰§è¡Œè§„åˆ™æ‰€å›°æ‰°ï¼Œè¿™ç§å›°æ‰°æ¥è‡ªäºç›®å‰Commonjså’ŒESModuleåœ¨Nodeç«¯èƒ½å¤Ÿå¹¶å­˜çš„æƒ…å†µï¼Œä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿæ‰§è¡ŒESModuleï¼Œä»€ä¹ˆæ—¶å€™ä¸èƒ½æ‰§è¡Œï¼›åœ¨å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…node_modulesï¼Œå…·ä½“çš„åŒ…æ˜¯æ ¹æ®ä»€ä¹ˆæ¥åŒºåˆ†æ˜¯ESModuleè¿˜æ˜¯Commonjsã€‚
é€šè¿‡é˜…è¯»äº†Nodejsçš„åŸæ–‡æ¡£ï¼Œè¿™äº›é—®é¢˜ä¹Ÿéšä¹‹è¿åˆƒè€Œè§£ï¼Œæ‰€ä»¥ç‰¹æ­¤åœ¨æœ¬ç¯‡åšä¸€åšè®°å½•ã€‚
æ³¨ï¼šä»¥ä¸‹å†…å®¹éƒ½æ˜¯åŸºäºNodejs V20.5.0 è¿›è¡Œç¼–å†™ã€‚
Nodejsä¸­çš„æ¨¡å—ç³»ç»Ÿ åœ¨Nodeç¯å¢ƒä¸‹ï¼Œå¦‚ä»Šå…±å­˜ç€ä¸¤ç§æ¨¡å—è§„èŒƒï¼šESModuleå’ŒCommonjsï¼Œå‰è€…æ˜¯ES6ä¸­æå‡ºæ¨¡å—åŒ–è§„èŒƒï¼Œæ‰€ä»¥ä¸ºäº†ç»Ÿä¸€æ•´ä¸ªJavascriptçš„æ¨¡å—åŒ–è§„èŒƒï¼ŒNodejsä¹Ÿé€æ¸çš„ç”±ä¹‹å‰ä¸»æµçš„Commonjsè§„èŒƒè½¬å˜ä¸ºESModuleï¼Œåªä¸è¿‡ä¸ºäº†å…¼å®¹Nodejsè€ç‰ˆæœ¬çš„ä»£ç ï¼Œæ‰€ä»¥ç°åœ¨è¿™ä¸¤ç§æ¨¡å—åœ¨Nodeä¸­æ˜¯å¹¶å­˜çš„å…³ç³»ï¼Œä½†æ˜¯å‰è€…(ESModule)æ˜¯è¶‹åŠ¿ã€‚ å…³äºCommonjså’ŒESMoudleçš„æ¨¡å—æŠ€æœ¯ç»†èŠ‚ï¼Œä¾‹å¦‚è¯­æ³•åŒºåˆ«ï¼ŒåŠ è½½è§„åˆ™ç­‰åœ¨æœ¬ç¯‡ä¸ä¼šæåˆ°ï¼Œæ¥ä¸‹æ¥å°†ä¼šå®ƒä»¬åœ¨nodejsä¸­çš„è®¾ç½®ä»¥åŠå¼•ç”¨è§„åˆ™ã€‚ æ¨¡å—çš„æ‰§è¡Œä¸åŠ è½½ Nodeåœ¨æ‰§è¡Œä»£ç å‰ä¼šå…ˆå»åˆ¤æ–­ä»£ç æ˜¯ESæ¨¡å—è¿˜æ˜¯commonjsæ¨¡å—ï¼ŒNodeä¼šä»ä¸‰ä¸ªè§’åº¦ä¾æ¬¡åˆ¤æ–­ä»£ç çš„æ¨¡å—å½’å±ã€‚ ESæ¨¡å— å¯¹äºESæ¨¡å—ï¼Œå½“å‡ºç°ä»¥ä¸‹æƒ…å†µæ—¶ï¼ŒNodejsä¼šå°†æ–‡ä»¶è§†ä¸ºESæ¨¡å—ã€‚ æ‰©å±•åä¸º.mjsçš„æ–‡ä»¶ã€‚ é¡¹ç›®æ‰€å½’å±çš„package.jsonçš„typeå­—æ®µçš„å€¼ä¸ºmoduleï¼Œæ­¤æ—¶æ–‡ä»¶æ‰©å±•åä¸º.jsçš„æ–‡ä»¶éƒ½è§†ä¸ºESæ¨¡å—ã€‚ å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ å…¥ --evalï¼Œæˆ–é€šè¿‡ STDIN ç®¡é“ä¼ è¾“åˆ° nodeï¼Œå¸¦æœ‰æ ‡å¿— --input-type=moduleã€‚ .mjsæ‰©å±•åçš„æ–‡ä»¶è¢«è§†ä¸ºESæ¨¡å—çš„ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ï¼Œæ— è®ºå®ƒèº«å¤„ä½•æ–¹ï¼Œåªè¦Nodeå‘ç°å…¶æ˜¯.mjsçš„æ–‡ä»¶ï¼Œå°±ä¼šå°†å…¶è§†ä½œESæ¨¡å—æ¥æ‰§è¡Œã€‚ commonjsæ¨¡å— å¯¹äºcommonjsæ¨¡å—ï¼Œå½“å‡ºç°ä»¥ä¸‹æƒ…å†µæ—¶ï¼ŒNodejsä¼šå°†æ–‡ä»¶è§†ä¸ºcommonjsæ¨¡å—ã€‚ æ‰©å±•åä¸º.cjsçš„æ–‡ä»¶ã€‚ é¡¹ç›®æ‰€å±çš„package.jsonçš„typeå­—æ®µçš„å€¼ä¸ºcommonjsæ—¶ï¼Œæ­¤æ—¶æ–‡ä»¶æ‰©å±•åä¸º.jsçš„æ–‡ä»¶éƒ½è§†ä¸ºcommonjsæ¨¡å—ã€‚ å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ å…¥ --eval æˆ– --printï¼Œæˆ–é€šè¿‡ STDIN ç®¡é“ä¼ è¾“åˆ° nodeï¼Œå¸¦æœ‰æ ‡å¿— --input-type=commonjsã€‚ å’ŒESæ¨¡å—ç±»ä¼¼ï¼Œå¦‚æœæ–‡ä»¶æ‰©å±•åä¸º.cjsï¼Œé‚£ä¹ˆNodejséƒ½ä¼šå°†å…¶è§†ä½œcommonjsæ¨¡å—ã€‚ å¦‚æœä¸è®¾ç½®typeå­—æ®µï¼Œé‚£ä¹ˆè¯¥é¡¹ç›®å°†ä¼šé»˜è®¤ä¸ºcommonjsè¯­æ³•çš„é¡¹ç›®ã€‚ æ¨¡å—åŠ è½½å™¨ Nodejsæœ‰ä¸¤ç§åŠ è½½å™¨ç”¨äºåˆ†åˆ«è§£æè¯´æ˜ç¬¦å’ŒåŠ è½½ESæ¨¡å—å’Œcommonjsæ¨¡å—ã€‚
commonjsæ¨¡å—åŠ è½½å™¨:
ğŸŒŸ å¤„ç†require()è°ƒç”¨ï¼Œå¹¶ä¸”æ˜¯åŒæ­¥åŠ è½½æ¨¡å—çš„ï¼Œ ğŸŒŸ æ”¯æŒä»¥æ–‡ä»¶å¤¹ä½œä¸ºæ¨¡å—ã€‚ ğŸŒŸ ä¸èƒ½ç”¨äºåŠ è½½`ECMAScriptæ¨¡å—ï¼ˆESModuleï¼‰ã€‚ ğŸŒŸ è§£æè·¯å¾„æ—¶ï¼Œå¦‚æœæœªæ‰¾åˆ°å®Œå…¨åŒ¹é…é¡¹ï¼Œé‚£ä¹ˆå°†å°è¯•æ·»åŠ æ‰©å±•å**.js,.json,.nodeï¼Œç„¶åæœ€åå†å°è¯•è§£ææ–‡ä»¶å¤¹ä½œä¸ºæ¨¡å—**ã€‚ å°†.jsonæ–‡ä»¶è§†ä¸ºJSONæ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨requireåŠ è½½ã€‚ ç‰¹åˆ«æ³¨æ„ä¸Šè¿°çš„å››ä¸ªå¸¦ğŸŒŸçš„è§„åˆ™ï¼Œåœ¨å¹³æ—¶æ—¥å¸¸å¼€å‘ä¸­åº”è¯¥æ˜¯èƒ½å¤Ÿç»å¸¸é‡è§çš„ã€‚ä»ç¬¬4ç‚¹ä¹Ÿèƒ½çŸ¥é“ä¸ºä»€ä¹ˆä½¿ç”¨requireå¼•ç”¨åŒ…æ—¶ï¼Œå¯ä»¥ä¸å¸¦æ–‡ä»¶çš„æ‰©å±•åï¼Œå› ä¸ºnodeåœ¨è§£æè·¯å¾„æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ã€‚ ECMAScriptæ¨¡å—åŠ è½½å™¨:
ğŸŒŸ å¤„ç†import()å’Œimportè¡¨è¾¾å¼ï¼Œå¹¶ä¸”æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—çš„ã€‚ ğŸŒŸ åªæ¥æ”¶Javascriptæ–‡æœ¬æ–‡ä»¶çš„.js,.mjså’Œ.cjsæ‰©å±•åã€‚ ğŸŒŸ å¯ä»¥åŠ è½½JSONæ¨¡å—ï¼Œä½†éœ€è¦å¯¼å…¥æ–­è¨€ã€‚ ğŸŒŸ ä¸æ”¯æŒæ–‡ä»¶å¤¹ä½œä¸ºæ¨¡å—ï¼Œå¿…é¡»å®Œå…¨æŒ‡å®šç›®å½•ç´¢å¼•ã€‚(ä¾‹å¦‚./dir/index.js)ã€‚ ğŸŒŸ å¯ä»¥åŠ è½½Javascript Commonjsæ¨¡å—ï¼Œå¯¼å…¥çš„cjsæ¨¡å—ä¼šé€šè¿‡cjs-module-lexeræ¥å°è¯•è¯†åˆ«å‘½åçš„å¯¼å‡ºï¼ŒåŒæ—¶å¯¼å…¥çš„CommonJSæ¨¡å—ä¼šå°†å…¶URLè½¬åŒ–ä¸ºç»å¯¹è·¯å¾„ï¼Œç„¶åé€šè¿‡CommonJSæ¨¡å—åŠ è½½å™¨åŠ è½½ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ç¬¬äº”ç‚¹ï¼šESModuleå¯ä»¥åŠ è½½CommonJSæ¨¡å—çš„æ–‡ä»¶ï¼Œè¿™å’ŒCommonjsè¯­æ³•æ˜¯ä¸åŒçš„ã€‚ ä»¥.mjsç»“å°¾çš„æ–‡ä»¶æ€»æ˜¯åŠ è½½ä¸ºESModuleï¼Œä¸ä¼šç®¡æœ€è¿‘çš„package.jsonã€‚
ä»¥.cjsç»“å°¾çš„æ–‡ä»¶æ€»æ˜¯åŠ è½½ä¸ºcommonjsï¼Œä¸ä¼šç®¡æœ€è¿‘çš„package.jsonã€‚
åŒ…å…¥å£ç‚¹ package.jsonä¸­å®šä¹‰äº†è¯¥nodeé¡¹ç›®çš„åŒ…ä¿¡æ¯ï¼Œé‚£ä¹ˆå¦‚æœè¯¥packageæƒ³è¢«å¦ä¸€ä¸ªpackageæ‰€å¼•ç”¨ï¼Œæ­£å¦‚æˆ‘ä»¬å¼€å‘æ—¶å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…é‚£æ ·import xxx from "xxx"ï¼Œé‚£ä¹ˆéœ€è¦åœ¨packageä¸­å®šä¹‰åŒ…çš„å…¥å£ç‚¹ï¼ŒåŠå…¥å£æ–‡ä»¶ã€‚ mainå­—æ®µ mainå­—æ®µå¯ä»¥å®šä¹‰åŒ…çš„å…¥å£ç‚¹ï¼Œå®ƒé€‚ç”¨äºESæ¨¡å—å’ŒCommonJSæ¨¡å—å…¥å£ç‚¹ï¼Œå¹¶ä¸”æ”¯æŒæ‰€æœ‰Nodejsç‰ˆæœ¬ã€‚ ä½†æ˜¯å®ƒçš„ç¼ºç‚¹ä¹Ÿæ˜¾è€Œæ˜“è§ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå…¥å£ç‚¹ï¼ŒåŠåŒ…çš„ä¸»è¦å…¥å£ç‚¹ã€‚ ä¾‹å¦‚æˆ‘ä»¬packageçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºã€‚ â”œâ”€â”€ package....</p></div><footer class=entry-footer><span title='2023-09-09 10:34:09 +0800 +0800'>September 9, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;249 words&nbsp;Â·&nbsp;Runtus</footer><a class=entry-link aria-label="post link to Node Packages" href=https://runtus.top/posts/node-packages/></a></article><article class=post-entry><header class=entry-header><h2>è¿­ä»£å™¨andç”Ÿæˆå™¨</h2></header><div class=entry-content><p>å¾ˆå¤šçš„æ•°æ®ç»“æ„éƒ½å…·å¤‡è¿­ä»£çš„æ€§è´¨ï¼Œä½†æ˜¯ä¸åŒçš„æ•°æ®ç»“æ„çš„è¿­ä»£æ–¹æ³•æœ‰æ‰€ä¸åŒï¼Œå¾€å¾€éœ€è¦çŸ¥é“å…·ä½“çš„æ•°æ®ç»“æ„æ¥é€‰æ‹©å¯¹åº”çš„è¿­ä»£æ–¹æ³•ï¼Œä¾‹å¦‚æ•°ç»„çš„è¿­ä»£å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è¿›è¡Œè¿­ä»£ã€‚
ä¸ºäº†ç»Ÿä¸€è¿­ä»£æ¥å£ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸äº†è§£å…·ä½“çš„æ•°æ®ç»“æ„çš„å‰æä¸‹ä¹Ÿèƒ½è¿›è¡Œè¿­ä»£ï¼Œæ‰€ä»¥æœ‰äº†è¿­ä»£å™¨è¿™ä¹ˆä¸€ä¸ªæ¦‚å¿µï¼Œè€Œç”Ÿæˆå™¨åˆ™æ˜¯åŸºäºè¿­ä»£å™¨çš„ä¸€ç§èƒ½å¤Ÿæ§åˆ¶å‡½æ•°æµç¨‹çš„æ–¹æ³•ï¼Œç”Ÿæˆå™¨åŸºäºè¿­ä»£å™¨çš„åŸç†è¿è¡Œï¼Œåè¿‡æ¥ç”Ÿæˆå™¨ä¹Ÿèƒ½å¤Ÿå¿«é€Ÿæ„å»ºè¿­ä»£å™¨ã€‚
è¿­ä»£å™¨ å½“éœ€è¦å¯¹æŸä¸ªè¿­ä»£å¯¹è±¡è¿›è¡Œè¿­ä»£å¤„ç†æ—¶ï¼Œç”±äºè¿­ä»£ä¹‹å‰éœ€è¦äº‹å…ˆçŸ¥é“å¦‚ä½•ä½¿ç”¨æ•°æ®ç»“æ„ï¼Œä»¥åŠéå†é¡ºåºå¹¶ä¸æ˜¯æ•°æ®ç»“æ„å›ºæœ‰çš„ï¼Œæ‰€ä»¥æƒ³å¯»æ±‚æŸç§æœºåˆ¶å»ç»Ÿä¸€è¿­ä»£è¿‡ç¨‹ï¼Œå¯¹æ¯ä¸€ç§å¯è¿­ä»£ç±»å‹ï¼Œéƒ½ç”¨åŒä¸€ç§è¿­ä»£æ–¹æ³•ï¼Œä»è€Œå¢åŠ å¼€å‘ä½“éªŒã€‚ï¼ˆå³æ— éœ€äº‹å…ˆçŸ¥é“å¦‚ä½•è¿­ä»£å»å®ç°è¿­ä»£æ“ä½œï¼‰ äºæ˜¯åŸºäºä»¥ä¸ŠåŸå› ï¼Œè¯ç”Ÿäº†è¿­ä»£å™¨æ¦‚å¿µï¼Œæ„åœ¨ç»Ÿä¸€åŒ–æ‰€æœ‰è¿­ä»£å¯¹è±¡çš„å¤„ç†æ–¹å¼ã€‚ å¯è¿­ä»£åè®® ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œåˆ™éœ€è¦æš´éœ²ä¸€ä¸ªå±æ€§ä½œä¸ºé»˜è®¤è¿­ä»£å™¨ï¼Œå¹¶ä¸”è¯¥å±æ€§çš„keyä¸ºSymbol.iteratorï¼Œå®ƒçš„valueæ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œç”¨äºè¿”å›ä¸€ä¸ªæ–°è¿­ä»£å™¨ã€‚ jsæä¾›äº†ä¸€ç³»åˆ—å¯ä»¥å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ“ä½œçš„åŸç”Ÿç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ for-of æ•°ç»„è§£æ„ æ‰©å±•æ“ä½œç¬¦å·ï¼ˆå³...) Array.from åˆ›å»ºé›†åˆ åˆ›å»ºæ˜ å°„ Promise.all()æ¥å—ç”±Promiseç»„æˆçš„å¯è¿­ä»£å¯¹è±¡ã€‚ Promise.rice()æ¥å—ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡ã€‚ yield*æ“ä½œç¬¦ï¼Œåœ¨ç”Ÿæˆå™¨ä¸­ä½¿ç”¨ã€‚ ä¸Šè¿°è°ˆåˆ°çš„åŸç”Ÿç»“æ„åœ¨å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ“ä½œæ—¶ï¼Œä¼šé»˜è®¤è°ƒç”¨å·¥å‚å‡½æ•°ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼Œç„¶åå¯¹è¿­ä»£å™¨è¿›è¡Œæ“ä½œã€‚ è¿­ä»£å™¨åè®® 1. nextå’ŒIteratorResult å¯è¿­ä»£åè®®æè¿°äº†ä¸€ä¸ªå¯¹è±¡å…·æœ‰å¯è¿­ä»£æ€§è´¨çš„è¦æ±‚å’Œå‰æï¼Œè€Œè¿­ä»£å™¨åè®®åˆ™æ˜¯ç”¨äºè§„èŒƒè¿­ä»£å™¨å…·æœ‰çš„æ€§è´¨å’Œæ–¹æ³•ã€‚ è¿­ä»£å™¨å¯¹è±¡å…·æœ‰ä¸€ä¸ªæ–¹æ³•nextï¼Œé€šè¿‡è¿­ä»£å™¨APInext()èƒ½å¤Ÿåœ¨å¯è¿­ä»£å¯¹è±¡ä¸­éå†æ•°æ®ï¼Œæ¯æ¬¡è°ƒç”¨nextéƒ½èƒ½è·å–åˆ°ä¸€ä¸ªIteratorResultå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«è¿­ä»£å™¨è¿”å›çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ const array = [1, 2, 4]; // è¿­ä»£å™¨å¯¹è±¡ const iter = array[Symbol.iterator](); console.log(iter.next()) console.log(iter.next()) console.log(iter.next()) console.log(iter.next()) console.log(iter.next()) // output // { value: 1, done: false } // { value: 2, done: false } // { value: 4, done: false } // { value: undefined, done: true } // { value: undefined, done: true } å¦‚ä¸Šçš„è¾“å‡ºç»“æœæ‰€ç¤ºï¼ŒIteratorResultåŒ…å«ä¸¤ä¸ªå±æ€§valueå’Œdoneï¼Œvalueè¡¨ç¤ºæœ¬æ¬¡è¿­ä»£è·å–çš„å€¼ï¼Œè€Œdoneåˆ™è¡¨ç¤ºè¿­ä»£æ˜¯å¦ç»“æŸï¼Œè¿™ä»å¦ä¸€ä¸ªè§’åº¦ä¹Ÿè¯´æ˜è¿­ä»£å™¨åªèƒ½é€šè¿‡nextæ–¹æ³•æ¥è·å–è¿­ä»£å™¨çš„å½“å‰ä½ç½®ã€‚ 2....</p></div><footer class=entry-footer><span title='2023-08-23 10:12:13 +0800 +0800'>August 23, 2023</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;543 words&nbsp;Â·&nbsp;Runtus</footer><a class=entry-link aria-label="post link to è¿­ä»£å™¨andç”Ÿæˆå™¨" href=https://runtus.top/posts/%E8%BF%AD%E4%BB%A3%E5%99%A8and%E7%94%9F%E6%88%90%E5%99%A8/></a></article><article class=post-entry><header class=entry-header><h2>Web components</h2></header><div class=entry-content><p>Web-Components Web-Componentsæ˜¯ä¸€é¡¹æ ‡å‡†ï¼Œè§„èŒƒï¼Œç›®å‰å®ƒåŒ…å«äº†ä¸‰é¡¹ä¸»è¦æŠ€æœ¯ï¼š
Custom Elementsè‡ªå®šä¹‰å…ƒç´ ï¼šï¼ˆæ ‡ç­¾ï¼‰å®ƒæ˜¯ä¸€ç»„JavaScript APIï¼Œèƒ½å¤Ÿè‡ªå®šä¹‰Elementä»¥åŠå…¶è¡Œä¸ºã€‚ Shadow DOMå½±å­DOMã€‚ HTML templatesHTMLæ¨¡æ¿ï¼šé€šè¿‡&lt;template>å’Œ&lt;slot>å…ƒç´ ç¼–å†™ä¸åœ¨å‘ˆç°é¡µé¢ä¸­æ˜¾ç¤ºçš„æ ‡è®°æ¨¡æ¿ã€‚ é€šè¿‡è¿™ä¸‰ä¸ªç‰¹æ€§çš„å…±åŒä½œç”¨èƒ½å¤Ÿåˆ›å»ºå°è£…åŠŸèƒ½çš„å®šåˆ¶å…ƒç´ ï¼Œåœ¨è¯´æ˜Web-Componentçš„ç”¨æ³•ä¹‹å‰ï¼Œå…ˆç®€å•è¯´æ˜ä¸Šè¿°ä¸‰é¡¹ç‰¹æ€§ã€‚
Custom Elements è‡ªå®šä¹‰å…ƒç´ æ˜¯Web Componentsä¸­çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒèƒ½å¤Ÿè®©å¼€å‘è€…å°†HTMLé¡µé¢ï¼ˆæˆ–è€…é¡µé¢ä¸­çš„æŸä¸ªåŠŸèƒ½ï¼‰å°è£…ä¸ºcustom elementsï¼Œä»è€Œè¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚ç›®å‰æ”¯æŒcustom elementsçš„æµè§ˆå™¨æœ‰FireFoxï¼ŒChromeï¼ŒOperaã€‚
Custom Elementsçš„ç®¡ç†æ˜¯é€šè¿‡CustomElementRegistryæ¥å£è¿›è¡Œæ“ä½œçš„ï¼Œå…¶ç”¨äºå¤„ç†Webæ–‡æ¡£ä¸­çš„custom elementsï¼ŒåŒæ—¶å®ƒè¿˜æä¾›æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ å’ŒæŸ¥è¯¢å·²æ³¨å†Œå…ƒç´ çš„æ–¹æ³•ï¼Œå®ƒçš„å®ä¾‹é€šè¿‡window.customElementså±æ€§æ¥è·å¾—ã€‚
CustomElementRegistryæ¥å£æœ‰å››ä¸ªæ–¹æ³•ï¼š
CustomElementRegistry.define()ï¼šå®šä¹‰ä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰å…ƒç´ ã€‚ CustomElementRegistry.get()ï¼šè¿”å›æŒ‡å®šè‡ªå®šä¹‰å…ƒç´ çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœæœªè‡ªå®šä¹‰å…ƒç´ ï¼Œåˆ™è¿”å›undefinedã€‚ CustomElementRegistry.upgrade(): æ›´æ–°ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ã€‚ CustomElementRegistry.whenDefined()ï¼šæ‰§è¡Œå¹¶è¿”å›ä¸€ä¸ªå·²ç»å®šä¹‰çš„è‡ªå®šä¹‰å…ƒç´ çš„promiseï¼Œå³å¦‚æœå®šä¹‰äº†è¿™ä¹ˆä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¿”å›å¯¹åº”çš„promiseã€‚ CustomElementRegistry.define() è¯¥æ–¹æ³•æ˜¯å››ä¸ªæ–¹æ³•ä¸­æœ€é‡è¦çš„æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š è‡ªå®šä¹‰å…ƒç´ çš„åç§°ï¼Œä¸”å…¶å¿…é¡»ç¬¦åˆå…ƒç´ åç§°çš„DOMStringæ ‡å‡†å­—ç¬¦ä¸²ã€‚ ç”¨äºå®šä¹‰å…ƒç´ è¡Œä¸ºçš„ç±»ã€‚ ä¸€ä¸ªåŒ…å« extends å±æ€§çš„é…ç½®å¯¹è±¡ï¼Œæ˜¯å¯é€‰å‚æ•°ã€‚å®ƒæŒ‡å®šäº†æ‰€åˆ›å»ºçš„å…ƒç´ ç»§æ‰¿è‡ªå“ªä¸ªå†…ç½®å…ƒç´ ï¼Œå¯ä»¥ç»§æ‰¿ä»»ä½•å†…ç½®å…ƒç´ ã€‚ // è‡ªå®šä¹‰Div class SelfDiv extends HTMLElement { constructor(){ // superæ–¹æ³•çš„è°ƒç”¨æ˜¯å¿…é¡»å¾— super() // å…ƒç´ çš„ç›¸å…³ä¸šåŠ¡ä»£ç  } } // ä½¿ç”¨customElementså®ä¾‹(CustomElementRegistryæ¥å£)æ¥å®Œæˆæ³¨å†ŒåŠŸèƒ½ customElements.define("word-count", SelfDiv, { extends: "div" }); ä¸Šè¿°ä»£ç ä¾¿æ˜¯è‡ªå®šä¹‰å…ƒç´ æ³¨å†Œçš„ç®€å•æ¼”ç¤ºã€‚ shadow DOM shadown DOMä¹Ÿå«å½±å­DOMï¼Œå®ƒæœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯åšå°è£…ï¼Œå°†å…ƒç´ çš„æ ‡è®°ç»“æ„ï¼Œæ ·å¼ä»¥åŠè¡Œä¸ºéšè—èµ·æ¥ï¼Œä¸å¤–ç•Œéš”ç¦»ï¼Œè¿™æ ·èƒ½å¤Ÿä¿è¯å°è£…çš„ä»£ç æ—¢ä¸ä¼šè¢«å¤–ç•Œå½±å“ï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯å†…éƒ¨çš„ä»£ç ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„å…ƒç´ ï¼Œè¿™æ ·ä¾¿å®ç°äº†Web Componentçš„è§£è€¦åˆã€‚ Shadow DOMæ¥å£å¯ä»¥å°†ä¸€ä¸ªéšè—çš„ï¼Œç‹¬ç«‹çš„DOMé™„åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œç›®å‰ä¸ºæ­¢FireFox,Chrome,Opera,Safarié»˜è®¤æ”¯æŒShadow DOMï¼ŒChromiumå†…æ ¸çš„Edgeä¹Ÿæ”¯æŒã€‚ Shadow DOMå…è®¸å°†éšè—çš„DOMæ ‘é™„åŠ åˆ°å¸¸è§„çš„DOMæ ‘ä¸­ => ä»¥shadow rootèŠ‚ç‚¹ä¸ºèµ·å§‹æ ¹èŠ‚ç‚¹ï¼ˆShadow Rootçš„åˆ›å»ºåç»­ä¼šè¯´æ˜ï¼‰ï¼Œåœ¨è¿™æ ¹èŠ‚ç‚¹çš„ä¸‹æ–¹å¯ä»¥æ·»åŠ ä»»ä½•DOMå…ƒç´ ï¼Œå’Œæ™®é€šçš„DOMå…ƒç´ æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ ä¸‹é¢æœ‰ä¸ªç¤ºæ„å›¾å¯ä»¥å¸®åŠ©ç†è§£ã€‚ ä¸Šå›¾çš„ä¸€äº›æ¦‚å¿µä¸‹é¢åšä¸€äº›è§£é‡Šï¼š Shadow hostï¼šå¸¸è§„çš„DOMèŠ‚ç‚¹ï¼ŒShadow DOMå°†ä¼šæŒ‚è½½åˆ°æ­¤å¤„ã€‚ Shadow Treeï¼šShadow DOMå†…éƒ¨çš„DOMæ ‘ã€‚ Shadow root: Shadow tree çš„æ ¹èŠ‚ç‚¹ã€‚ æ³¨ï¼šShadow DOMçš„æ“ä½œæ–¹å¼å’Œæ™®é€šDOMæ“ä½œæ–¹å¼æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼ŒåŒ…æ‹¬æ·»åŠ å…ƒç´ ï¼Œè®¾ç½®å±æ€§ç­‰ç­‰ï¼Œåªä¸è¿‡Shadow DOMå†…éƒ¨çš„ä»»ä½•æ”¹å˜éƒ½å½±å“ä¸äº†å¤–éƒ¨çš„DOMå…ƒç´ ã€‚ Shadow DOMçš„åˆ›å»ºå’ŒæŒ‚è½½é€šè¿‡æ–¹æ³•ElementShadow()æ¥å®ç°ã€‚ Element....</p></div><footer class=entry-footer><span title='2023-08-03 10:12:13 +0800 +0800'>August 3, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;339 words&nbsp;Â·&nbsp;Runtus</footer><a class=entry-link aria-label="post link to Web components" href=https://runtus.top/posts/webcomponents/></a></article><article class=post-entry><header class=entry-header><h2>Rust Trait</h2></header><div class=entry-content><p>Rustä¸­çš„ç‰¹å¾Traitç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„æ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œå°±èƒ½ä½¿ç”¨è¿™ç»„è¡Œä¸ºã€‚
ç‰¹å¾ Trait ç‰¹å¾çš„å®šä¹‰ é€šè¿‡traitå…³é”®å­—å¯¹ç‰¹å¾è¿›è¡Œå®šä¹‰ã€‚ pub trait Student { fn GoClass(&amp;self); fn LeaveClass(&amp;self); fn getClassRoom(&amp;self) -> String; } ä¸Šè¿°å£°æ˜äº†**èº«ä¸ºå­¦ç”Ÿåº”è¯¥æœ‰çš„å‡ ä¸ªç‰¹å¾è¡Œä¸ºï¼š**å³ä¸Šè¯¾ï¼Œä¸‹è¯¾å’Œè·å–æ•™å®¤æˆ¿é—´å·ï¼Œé‚£ä¹ˆå…¶ä»–å…·æœ‰å­¦ç”Ÿæ€§è´¨çš„ç»“æ„ä½“ï¼ˆæˆ–è€…è¯´ä¸ºç±»ï¼‰éœ€è¦éµå¾ªè¯¥ç‰¹å¾ã€‚ éœ€è¦æ³¨æ„ï¼šç‰¹å¾åªæ˜¯åå‡½æ•°ç­¾åï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„å®ç°å‡½æ•°ï¼Œå‡½æ•°çš„å®ç°åœ¨ç»‘å®šäº†è¯¥ç‰¹å¾çš„ç±»é‡Œå®ç°ï¼Œä¸‹é¢ä¸€èŠ‚ä¼šæåˆ°ã€‚ ç±»å‹å®ç°ç‰¹å¾ ä½¿ç”¨forå…³é”®å­—æ¥ä¸ºç±»å®ç°ç‰¹å¾ã€‚ pub struct Bob { pub year: String, pub sex: String } impl Student for Bob { // å®ç°ç‰¹å¾ fn GoClass(&amp;self){ // .... } fn LeaveClass(&amp;self) { // ... } fn getClassRoom(&amp;self) { // ... } } åœ¨Bobç±»å‹ä¸­å®ç°äº†Studentç‰¹å¾å£°æ˜çš„ä¸‰ä¸ªå‡½æ•°ï¼Œè¿™æ˜¯å¿…é¡»çš„ï¼Œé™¤éåœ¨ç‰¹å¾ä¸­æœ‰é»˜è®¤çš„å®ç°ã€‚ å¦‚æœç‰¹å¾ä¸­æœ‰é»˜è®¤çš„å‡½æ•°å®ç°ï¼Œé‚£ä¹ˆç»‘å®šçš„ç±»å‹å¯ä»¥ä¸ç”¨å†æ¬¡å®ç°å‡½æ•°ï¼Œè‹¥å®ç°äº†å¯¹åº”çš„å‡½æ•°ï¼Œé‚£ä¹ˆä¼šè¦†ç›–é»˜è®¤çš„ç‰¹å¾å‡½æ•°å®ç°ã€‚å¦‚ä¸‹æ‰€ç¤ºã€‚ pub trait Student { fn GoClass(&amp;self){ println!("this is student!"); } fn LeaveClass(&amp;self); fn getClassRoom(&amp;self) -> String; } impl Student for Bob { fn GoClass(&amp;self){ println!...</p></div><footer class=entry-footer><span title='2023-07-17 20:09:43 +0800 +0800'>July 17, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;282 words&nbsp;Â·&nbsp;Runtus</footer><a class=entry-link aria-label="post link to Rust Trait" href=https://runtus.top/posts/rust-trait/></a></article><article class=post-entry><header class=entry-header><h2>RuståŒ…ç®¡ç†</h2></header><div class=entry-content><p>æœ¬æ–‡å‚è€ƒäº†Rustè¯­è¨€åœ£ç»ä¸­æœ‰å…³RuståŒ…çš„ä»‹ç»ï¼Œæ”¥å†™æœ¬ç« çš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„æŒæ¡rustä¸­åŒ…å’Œæ¨¡å—çš„å…³ç³»ä»¥åŠå®ƒä»¬çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼Œæ–¹ä¾¿äºæœªæ¥çš„é¡¹ç›®å¼€å‘ã€‚
Rustä¸­ä»£ç ç»„ç»‡ç›¸å…³æ¦‚å¿µ åœ¨Rustä¸­ï¼Œä»£ç çš„ç»„ç»‡å¤§è‡´å¯ä»¥åˆ†ä¸ºå››ä¸ªå±‚æ¬¡ï¼š é¡¹ç›®ï¼ˆPackageï¼‰ å·¥ä½œç©ºé—´ï¼ˆWorkspaceï¼‰ åŒ…ï¼ˆCrateï¼‰ æ¨¡å—ï¼ˆModuleï¼‰ Package é¡¹ç›® Packageå…¶å®å°±æ˜¯é€šè¿‡å‘½ä»¤cargo newåˆ›å»ºçš„é¡¹ç›®æ–‡ä»¶ï¼Œå…¶æ˜¾è‘—ç‰¹å¾ä¾¿æ˜¯åŒ…å«äº†cargo.tomlæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ ‡æ³¨äº†è¯¥Packageçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼šä¾‹å¦‚åç§°ï¼Œç‰ˆæœ¬å·ï¼Œä¾èµ–ç­‰ç­‰ã€‚ ä¸€ä¸ªPackageç”±ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…ï¼ˆCrateï¼‰ç»„æˆï¼Œä½†æ˜¯å®ƒæœ€å¤šåªèƒ½åŒ…å«ä¸€ä¸ªåº“ç±»å‹çš„åŒ…ï¼ˆå³åä¸ºlib.rsçš„æ–‡ä»¶ï¼‰ã€‚ Packageè¿˜å¯ä»¥åˆ†ä¸ºäºŒè¿›åˆ¶Packageå’Œåº“Packageã€‚ äºŒè¿›åˆ¶Package ç›´æ¥ä½¿ç”¨å‘½ä»¤cargo new package-nameçš„Package-é¡¹ç›®å³ä¸ºäºŒè¿›åˆ¶é¡¹ç›®ï¼Œè™½ç„¶åœ¨cargo.tomlä¸­æ²¡æœ‰æ˜¾ç¤ºæŒ‡å‡ºPackageçš„å…¥å£æ–‡ä»¶ï¼Œä½†Cargoçš„æƒ¯ä¾‹æ˜¯ï¼šsrc/main.rså³ä¸ºäºŒè¿›åˆ¶åŒ…çš„æ ¹æ–‡ä»¶ï¼Œå³å…¥å£æ–‡ä»¶ï¼Œæ‰€æœ‰çš„ä»£ç çš„æ‰§è¡Œéƒ½æ˜¯ä»src/main.rsä¸­çš„fn main()ä¸­å¼€å§‹æ‰§è¡Œçš„ã€‚ è¾“å…¥cargo runå¯ä»¥ç›´æ¥ç¼–è¯‘è¿è¡Œã€‚ åº“Package åº“Packageåœ¨åˆ›å»ºæ—¶éœ€è¦å¢åŠ --libå‘½ä»¤è¡Œå‚æ•°é€‰é¡¹ï¼Œå³cargo new package-lib-name --libåœ¨ï¼Œè¿™æ ·è·å¾—çš„Packageæ˜¯ä¸€ä¸ªåº“Packageï¼Œå®ƒåªèƒ½ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹åº“è¢«å…¶ä»–é¡¹ç›®å¼•ç”¨ï¼Œè€Œä¸èƒ½å•ç‹¬ç¼–è¯‘è¿è¡Œã€‚ ä¸ src/main.rs ä¸€æ ·ï¼ŒCargo çŸ¥é“ï¼Œå¦‚æœä¸€ä¸ª Package åŒ…å«æœ‰ src/lib.rsï¼Œæ„å‘³å®ƒåŒ…å«æœ‰ä¸€ä¸ªåº“ç±»å‹çš„åŒååŒ… my-libï¼Œè¯¥åŒ…çš„æ ¹æ–‡ä»¶æ˜¯ src/lib.rsã€‚ Packageæ–‡ä»¶ç»“æ„ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmain.rså’Œlib.rsä¸æ˜¯äº’æ–¥å…³ç³»ï¼ŒäºŒè€…æ˜¯å¯ä»¥å…±å­˜çš„ã€‚å½“äºŒè€…å…±å­˜æ—¶ï¼Œé‚£å°±æ„å‘³ç€å®ƒåŒ…å«ä¸¤ä¸ªåŒ…ï¼šåº“åŒ…å’ŒäºŒè¿›åˆ¶åŒ…ï¼Œè¿™ä¸¤ä¸ªåŒ…åä¹Ÿéƒ½æ˜¯ package-name â€”â€” éƒ½ä¸ Package åŒåã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªPackageçš„æ–‡ä»¶ç»“æ„ã€‚ . â”œâ”€â”€ Cargo.toml â”œâ”€â”€ Cargo.lock â”œâ”€â”€ src â”‚ â”œâ”€â”€ main.rs â”‚ â”œâ”€â”€ lib.rs â”‚ â””â”€â”€ bin â”‚ â””â”€â”€ main1.rs â”‚ â””â”€â”€ main2.rs â”œâ”€â”€ tests â”‚ â””â”€â”€ some_integration_tests.rs â”œâ”€â”€ benches â”‚ â””â”€â”€ simple_bench....</p></div><footer class=entry-footer><span title='2023-07-05 17:33:19 +0800 +0800'>July 5, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;302 words&nbsp;Â·&nbsp;Runtus</footer><a class=entry-link aria-label="post link to RuståŒ…ç®¡ç†" href=https://runtus.top/posts/rust%E5%8C%85%E7%AE%A1%E7%90%86/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://runtus.top/posts/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://runtus.top/>Runtus</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> &
        <a href=https://beian.miit.gov.cn/ target=_blank>èœ€ICPå¤‡2021023118å·-1</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const t=Array.from(document.getElementsByClassName("all-layer")),o=Array.from(document.body.classList),e=o.includes("dark")?"dark":"light",n=t[0],s=t[1];document.body.className.includes("dark")?(document.body.classList.remove("dark"),document.body.classList.add("light"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),document.body.classList.remove("light"),localStorage.setItem("pref-theme","dark")),window.location.pathname==="/"?(n.style.opacity=e==="dark"?0:.8,s.style.opacity=e==="light"?0:1):(n.style.opacity=e==="dark"?0:.4,s.style.opacity=e==="light"?0:.4)})</script><script>document.addEventListener("DOMContentLoaded",()=>{const e=Array.from(document.getElementsByClassName("all-layer")),n=Array.from(document.body.classList),s=n.includes("dark")?"dark":"light",t=s==="dark"?0:1;window.location.pathname==="/"?e[t].style.opacity=.8:e[t].style.opacity=.4})</script></body></html>